<% content_for :extra_stylesheets do %>
  <%= stylesheet_link_tag 'login', media: 'all' %>
<% end %>

<div class="login-container">
  <div class="login-box">
    <% if flash[:notice] %>
      <div class="alert alert-success" id="success-message">
        <%= flash[:notice] %>
      </div>
    <% end %>

    <% if flash[:alert] %>
      <div class="alert alert-danger">
        <%= flash[:alert] %>
      </div>
    <% end %>

    <div class="login-content">
      <h1>Login</h1>

      <%= form_with url: login_path, local: true do |form| %>
        <div class="form-group">
          <%= form.label :email, "Email:" %>
          <%= form.email_field :email, autofocus: true, required: true, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :password, "Senha:" %>
          <%= form.password_field :password, required: true, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= form.submit "Entrar", class: "btn btn-primary" %>
        </div>
      <% end %>

      <p class="register-link">
        Ainda não tem conta? <%= link_to "Cadastre-se", new_cliente_path %>
      </p>
    </div>
  </div>
</div>

<script>
  // Remove a mensagem de sucesso após 2.5 segundos
  document.addEventListener("DOMContentLoaded", function() {
    var successMessage = document.getElementById("success-message");
    if (successMessage) {
      setTimeout(function() {
        successMessage.style.display = 'none';
      }, 2500); //  = 2.5 segundos
    }
  });
</script>